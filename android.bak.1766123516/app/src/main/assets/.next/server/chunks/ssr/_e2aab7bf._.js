module.exports=[38632,35487,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["Image",()=>c],38632);let d=(0,b.default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]);a.s(["File",()=>d],35487)},73320,79257,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);a.s(["Upload",()=>c],73320);let d=(0,b.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);a.s(["Link",()=>d],79257)},41800,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(3130),e=a.i(40695),f=a.i(5522),g=a.i(17171),h=a.i(46893),i=a.i(87682),j=a.i(65733),k=a.i(54161),l=a.i(73320),m=a.i(79257),n=a.i(4720),o=a.i(38632),p=a.i(64791),q=a.i(35487);let r=(0,a.i(70106).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var s=a.i(81560),t=a.i(96221),u=a.i(77156),v=a.i(69240),w=a.i(94861),x=a.i(47674),y=a.i(38422),z=a.i(5050),A=(0,z.createServerReference)("609ad8544995b5847b0ce8a82278134f0856ad1454",z.callServer,void 0,z.findSourceMapURL,"getSignedProjectFileUrl"),B=a.i(14388);function C({projectId:a,driveFolderUrl:z,onDriveFolderUpdate:C}){let{user:D}=(0,y.useAuth)(),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(z||""),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(null),$=(0,c.useRef)(!1),_=(0,c.useRef)(!1),aa=(0,c.useRef)(!1),ab=(0,c.useRef)(null),ac=(0,c.useRef)(!0),[ad,ae]=(0,c.useState)(null),[af,ag]=(0,c.useState)("other"),[ah,ai]=(0,c.useState)(""),[aj,ak]=(0,c.useState)(""),[al,am]=(0,c.useState)(""),[an,ao]=(0,c.useState)("other"),[ap,aq]=(0,c.useState)("");async function ar(){if(G||!ac.current||!a)return;H(!0);let b=(0,v.createClient)();try{w.debug.log("FILE_MANAGER","Fetching files...",{projectId:a});let{data:c,error:d}=await b.from("project_files").select("*").eq("project_id",a).order("created_at",{ascending:!1});if(d)throw d;ac.current&&(F(c||[]),w.debug.success("FILE_MANAGER","Files fetched",{count:c?.length}))}catch(a){console.error("Error fetching files:",a),w.debug.error("FILE_MANAGER","Error fetching files",{message:a?.message,code:a?.code})}finally{ac.current&&H(!1)}}async function as(){if(_.current)return void w.debug.log("FILE_MANAGER","Upload already in progress, ignoring");if(!ad)return;let b=(0,x.validateFileSize)(ad);if(!b.valid)return void alert(b.error);if(E.length>=20)return void alert("Maximum 20 files/links per project. Please delete some files before adding more.");_.current=!0,J(!0);let c=(0,v.createClient)();try{w.debug.log("FILE_MANAGER","Upload start",{projectId:a,name:ad.name,size:ad.size,category:af});let b=`${a}/${Date.now()}-${ad.name}`,{error:d}=await c.storage.from("project-files").upload(b,ad);if(d)throw d;let{data:{publicUrl:e}}=c.storage.from("project-files").getPublicUrl(b),{data:f,error:g}=await c.from("project_files").insert({project_id:a,file_name:ad.name,file_type:(0,x.getFileType)(ad.name),file_category:af,storage_type:"supabase",file_url:e,file_size:ad.size,description:ah,uploaded_by:D?.id}).select().single();if(g)throw g;f&&F(a=>[f,...a]),(0,B.logAuditEvent)({action:"upload",entityType:"file",entityId:f?.id,entityName:ad.name,status:"success",newValues:{file_name:ad.name,file_type:(0,x.getFileType)(ad.name),file_category:af,file_size:ad.size},details:{project_id:a,description:ah}}).catch(a=>console.warn("Failed to log audit event:",a)),P(!1),ae(null),ai(""),ag("other"),J(!1),w.debug.success("FILE_MANAGER","Upload saved, added to list, dialog closed")}catch(b){console.error("Error uploading file:",b),(0,B.logAuditEvent)({action:"upload",entityType:"file",entityName:ad.name,status:"error",errorMessage:b?.message,details:{project_id:a,file_size:ad.size}}).catch(a=>console.warn("Failed to log audit event:",a)),w.debug.error("FILE_MANAGER","Upload error",{message:b?.message,code:b?.code,details:b?.details,hint:b?.hint}),alert(b.message||"Failed to upload file")}finally{J(!1),_.current=!1,w.debug.log("FILE_MANAGER","Upload end - flags reset")}}async function at(){if(!ac.current)return;if($.current||K)return void console.log("[handleAddLink] BLOCKED: already submitting");let b=aj.trim(),c=al.trim();if(!b||!c)return void alert("Please provide both URL and file name");if(E.length>=20)return void alert("Maximum 20 files/links per project. Please delete some files before adding more.");$.current=!0,L(!0);let d=(0,v.createClient)();try{if(console.log("[handleAddLink] ✅ Starting submission"),!a||!D?.id)throw Error("Missing projectId or userId");let{data:e,error:f}=await d.from("project_files").insert({project_id:a,file_name:c,file_type:(0,x.getFileType)(c),file_category:an,storage_type:"google_drive",file_url:b,description:ap,uploaded_by:D.id}).select().single();if(f)throw f;if(!e)throw Error("No data returned from insert");console.log("[handleAddLink] ✅ Link inserted successfully"),ac.current&&(F(a=>a.some(a=>a.id===e.id)?a:[e,...a]),R(!1),ak(""),am(""),aq(""),ao("other")),w.debug.success("FILE_MANAGER","Link added successfully")}catch(b){console.error("[handleAddLink] ❌ Error:",b.message);let a=b?.message?.includes("row-level security")?"You do not have permissions to add links.":b?.message||"Failed to add link";ac.current&&alert(a),w.debug.error("FILE_MANAGER","Add link failed",{message:b?.message})}finally{ac.current&&L(!1),$.current=!1,console.log("[handleAddLink] ✅ Submission complete, guards reset")}}async function au(){if(aa.current)return void w.debug.log("FILE_MANAGER","Drive folder save already in progress, ignoring");let b=U.trim();if(!b)return;if(!b.includes("drive.google.com"))return void alert("Please provide a valid Google Drive URL");aa.current=!0;let c=(0,v.createClient)();N(!0);try{w.debug.log("FILE_MANAGER","Saving drive folder",{projectId:a,url:b});let{error:d}=await c.from("projects").update({drive_folder_url:b}).eq("id",a);if(d)throw d;w.debug.success("FILE_MANAGER","Drive folder saved successfully"),V(b),T(!1),C?.(b)}catch(a){console.error("Error updating drive folder:",a),w.debug.error("FILE_MANAGER","Drive folder save error",{message:a?.message,code:a?.code}),alert(a.message||"Failed to update drive folder")}finally{N(!1),aa.current=!1,w.debug.log("FILE_MANAGER","Drive folder save end - flags reset")}}async function av(b,c,d){if(!confirm("Are you sure you want to delete this file?"))return;let e=(0,v.createClient)();try{if("supabase"===d){let a=c.split("/").slice(-2).join("/");await e.storage.from("project-files").remove([a])}let{error:f}=await e.from("project_files").delete().eq("id",b);if(f)throw f;(0,B.logAuditEvent)({action:"delete",entityType:"file",entityId:b,status:"success",details:{project_id:a,storage_type:d}}).catch(a=>console.warn("Failed to log audit event:",a)),ar()}catch(c){console.error("Error deleting file:",c),(0,B.logAuditEvent)({action:"delete",entityType:"file",entityId:b,status:"error",errorMessage:c?.message,details:{project_id:a,storage_type:d}}).catch(a=>console.warn("Failed to log audit event:",a)),alert(c.message||"Failed to delete file")}}function aw(a){try{let b=new URL(a),c=b.pathname.match(/\/file\/d\/([^/]+)/);if(c)return c[1];let d=b.searchParams.get("id");if(d)return d;let e=b.searchParams.get("id");if(e)return e}catch{}return null}(0,c.useEffect)(()=>()=>{ac.current=!1,ab.current&&ab.current.abort()},[]),(0,c.useEffect)(()=>{a&&ac.current&&ar()},[a]),(0,c.useEffect)(()=>{S||V(z||"")},[z,S]),(0,c.useEffect)(()=>{O||(ae(null),ai(""),ag("other"),J(!1),_.current=!1)},[O]),(0,c.useEffect)(()=>{Q?console.log("[FileManager] Link dialog opened"):(console.log("[FileManager] Link dialog closed - resetting form"),ak(""),am(""),aq(""),ao("other"),L(!1),$.current=!1,w.debug.log("FILE_MANAGER","Add link dialog closed and form reset"))},[Q]),(0,c.useEffect)(()=>{S||(V(z||""),N(!1),aa.current=!1)},[S,z]);let[ax,ay]=(0,c.useState)(null);async function az(a){if(Z(a),ay(null),X(!0),"supabase"===a.storage_type){let b=await A(a.file_url);!b.error&&b.signedUrl?ay(b.signedUrl):ay(a.file_url)}else ay(a.file_url)}async function aA(a){if("supabase"===a.storage_type){let b=await A(a.file_url);if(b.error||!b.signedUrl)return void window.open(a.file_url,"_blank");window.open(b.signedUrl,"_blank")}else window.open(a.file_url,"_blank")}function aB({file:a}){let[d,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)(null),h=null;return("image"===a.file_type?h="supabase"===a.storage_type?f??a.file_url:a.file_url:"video"===a.file_type&&"google_drive"===a.storage_type&&(h=function(a,b=120){let c=aw(a);return c?`https://drive.google.com/thumbnail?id=${c}&sz=w${b}`:null}(a.file_url,160)),(0,c.useEffect)(()=>{let b=!1;return async function(){if("image"===a.file_type&&"supabase"===a.storage_type){let c=await A(a.file_url,300);b||c.error||!c.signedUrl||g(c.signedUrl),!b&&c.error&&g(null)}}(),()=>{b=!0}},[a.file_url,a.file_type,a.storage_type]),!h||d)?(0,b.jsx)("div",{className:"flex items-center justify-center h-8 w-8 rounded bg-muted",children:function(a){switch(a){case"image":return(0,b.jsx)(o.Image,{className:"h-4 w-4"});case"video":return(0,b.jsx)(p.Video,{className:"h-4 w-4"});case"pdf":case"document":return(0,b.jsx)(n.FileText,{className:"h-4 w-4"});default:return(0,b.jsx)(q.File,{className:"h-4 w-4"})}}(a.file_type)}):(0,b.jsx)("img",{src:h,alt:a.file_name,className:"h-8 w-8 rounded object-cover",onError:()=>e(!0)})}let aC=E.reduce((a,b)=>(a[b.file_category]||(a[b.file_category]=[]),a[b.file_category].push(b),a),{});return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{className:"text-lg",children:"Google Drive Folder"}),(0,b.jsx)(d.CardDescription,{children:"Main project folder for large files"})]}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>T(!0),children:[z?"Update":"Add"," Folder"]})]})}),z&&(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("a",{href:z,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:underline",children:[(0,b.jsx)(r,{className:"h-4 w-4"}),"Open Drive Folder"]})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{onClick:()=>{w.debug.log("FILE_MANAGER","Open upload dialog"),P(!0)},disabled:E.length>=20,children:[(0,b.jsx)(l.Upload,{className:"h-4 w-4 mr-2"}),"Upload File"]}),(0,b.jsxs)(e.Button,{onClick:()=>{$.current||_.current||(w.debug.log("FILE_MANAGER","Open add link dialog"),R(!0))},disabled:E.length>=20||K||I,children:[(0,b.jsx)(m.Link,{className:"h-4 w-4 mr-2"}),"Add Drive Link"]})]}),(0,b.jsxs)("p",{className:`text-sm ${E.length>=20?"text-red-600 font-medium":"text-muted-foreground"}`,children:[E.length,"/20 files"]})]}),E.length>=20&&(0,b.jsx)("p",{className:"text-sm text-red-600",children:"Maximum file limit reached. Delete some files to add more."})]}),Object.entries(x.FILE_CATEGORIES).map(([a,c])=>{let f=aC[a]||[];return 0===f.length?null:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{className:"text-lg",children:c.label}),(0,b.jsx)(d.CardDescription,{children:c.description})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:f.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-accent transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,b.jsx)(aB,{file:a}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium truncate",children:a.file_name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,b.jsx)(k.Badge,{variant:"outline",className:"text-xs",children:"supabase"===a.storage_type?"Uploaded":"Drive Link"}),a.file_size&&(0,b.jsx)("span",{children:(0,x.formatFileSize)(a.file_size)})]}),a.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:a.description})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>az(a),children:(0,b.jsx)(u.Eye,{className:"h-4 w-4"})}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>aA(a),children:(0,b.jsx)(r,{className:"h-4 w-4"})}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>av(a.id,a.file_url,a.storage_type),children:(0,b.jsx)(s.Trash2,{className:"h-4 w-4 text-destructive"})})]})]},a.id))})})]},a)}),0===E.length&&(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"text-center py-12",children:[(0,b.jsx)(n.FileText,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 opacity-50"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No files uploaded yet"})]})}),(0,b.jsx)(j.Dialog,{open:O,onOpenChange:P,children:(0,b.jsx)(j.DialogContent,{children:(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),as()},children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:"Upload File"}),(0,b.jsx)(j.DialogDescription,{children:"Upload documents, images, and small videos to Supabase storage"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"File"}),(0,b.jsx)(f.Input,{type:"file",onChange:a=>ae(a.target.files?.[0]||null),className:"mt-1",required:!0}),ad&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[(0,x.formatFileSize)(ad.size)," - Max: ",(0,x.formatFileSize)(0x3b9ac9ff*!!(0,x.validateFileSize)(ad).valid)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"Category"}),(0,b.jsxs)(i.Select,{value:af,onValueChange:a=>ag(a),children:[(0,b.jsx)(i.SelectTrigger,{className:"mt-1",children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsx)(i.SelectContent,{children:Object.entries(x.FILE_CATEGORIES).map(([a,c])=>(0,b.jsx)(i.SelectItem,{value:a,children:c.label},a))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"Description (Optional)"}),(0,b.jsx)(h.Textarea,{value:ah,onChange:a=>ai(a.target.value),className:"mt-1",placeholder:"Brief description"})]})]}),(0,b.jsxs)(j.DialogFooter,{children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>P(!1),disabled:I,children:"Cancel"}),(0,b.jsxs)(e.Button,{type:"submit",disabled:!ad||I,children:[I&&(0,b.jsx)(t.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),I?"Uploading...":"Upload"]})]})]})})}),(0,b.jsx)(j.Dialog,{open:Q,onOpenChange:a=>{!a&&$.current?console.log("[Dialog] BLOCKED: Cannot close while submitting"):R(a)},children:(0,b.jsx)(j.DialogContent,{children:(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),at()},children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:"Add Google Drive Link"}),(0,b.jsx)(j.DialogDescription,{children:"Add a link to a file stored in Google Drive"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"File Name"}),(0,b.jsx)(f.Input,{value:al,onChange:a=>am(a.target.value),className:"mt-1",placeholder:"Final_Edit_v3.mp4",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"Google Drive URL"}),(0,b.jsx)(f.Input,{value:aj,onChange:a=>ak(a.target.value),className:"mt-1",placeholder:"https://drive.google.com/file/d/...",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"Category"}),(0,b.jsxs)(i.Select,{value:an,onValueChange:a=>ao(a),children:[(0,b.jsx)(i.SelectTrigger,{className:"mt-1",children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsx)(i.SelectContent,{children:Object.entries(x.FILE_CATEGORIES).map(([a,c])=>(0,b.jsx)(i.SelectItem,{value:a,children:c.label},a))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"Description (Optional)"}),(0,b.jsx)(h.Textarea,{value:ap,onChange:a=>aq(a.target.value),className:"mt-1",placeholder:"Brief description"})]})]}),(0,b.jsxs)(j.DialogFooter,{children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>R(!1),disabled:K,children:"Cancel"}),(0,b.jsxs)(e.Button,{type:"submit",disabled:!aj.trim()||!al.trim()||K,children:[K&&(0,b.jsx)(t.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),K?"Adding...":"Add Link"]})]})]})})}),(0,b.jsx)(j.Dialog,{open:S,onOpenChange:T,children:(0,b.jsx)(j.DialogContent,{children:(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),au()},children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:"Set Google Drive Folder"}),(0,b.jsx)(j.DialogDescription,{children:"Add the main project folder URL from Google Drive"})]}),(0,b.jsxs)("div",{className:"py-4",children:[(0,b.jsx)(g.Label,{children:"Folder URL"}),(0,b.jsx)(f.Input,{value:U,onChange:a=>V(a.target.value),className:"mt-1",placeholder:"https://drive.google.com/drive/folders/...",required:!0})]}),(0,b.jsxs)(j.DialogFooter,{children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>T(!1),disabled:M,children:"Cancel"}),(0,b.jsxs)(e.Button,{type:"submit",disabled:!U.trim()||!U.includes("drive.google.com")||M,children:[M&&(0,b.jsx)(t.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),M?"Saving...":"Save"]})]})]})})}),(0,b.jsx)(j.Dialog,{open:W,onOpenChange:X,children:(0,b.jsxs)(j.DialogContent,{className:"max-w-3xl",children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:"Preview"}),(0,b.jsx)(j.DialogDescription,{children:Y?.file_name})]}),(0,b.jsx)("div",{className:"mt-2",children:Y&&(()=>{let a=Y.file_type,c=ax||Y.file_url,d=Y.storage_type;if("supabase"===d&&!ax)return(0,b.jsx)("div",{className:"text-sm text-muted-foreground p-6 text-center",children:"Generating secure preview link..."});if("image"===a)return(0,b.jsx)("img",{src:c,alt:Y.file_name,className:"max-h-[70vh] w-auto mx-auto rounded"});if("video"===a){if("google_drive"===d){let a,d=(a=aw(c))?`https://drive.google.com/file/d/${a}/preview`:null;if(d)return(0,b.jsx)("iframe",{src:d,className:"w-full h-[70vh] rounded",allow:"autoplay",allowFullScreen:!0})}return(0,b.jsxs)("video",{controls:!0,className:"w-full max-h-[70vh] rounded",children:[(0,b.jsx)("source",{src:c}),"Your browser does not support the video tag."]})}return"pdf"===a||c.endsWith(".pdf")?(0,b.jsx)("iframe",{src:c,className:"w-full h-[70vh] rounded"}):(0,b.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:"Preview not available. Use the open link to view the file."})})()}),(0,b.jsxs)(j.DialogFooter,{children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>X(!1),children:"Close"}),Y&&("supabase"===Y.storage_type?(0,b.jsx)(e.Button,{onClick:()=>aA(Y),children:"Open in new tab"}):(0,b.jsx)(e.Button,{asChild:!0,children:(0,b.jsx)("a",{href:Y.file_url,target:"_blank",rel:"noopener noreferrer",children:"Open in new tab"})}))]})]})})]})}a.s(["FileManager",()=>C],41800)}];

//# sourceMappingURL=_e2aab7bf._.js.map