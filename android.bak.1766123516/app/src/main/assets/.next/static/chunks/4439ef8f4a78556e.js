(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78892,e=>{"use strict";var s=e.i(43476),a=e.i(94179);function t({status:e}){return(0,s.jsx)(a.Badge,{variant:(e=>{switch(e){case"completed":case"done":case"paid":case"active":return"success";case"in_progress":case"in_review":case"sent":return"info";case"planning":case"pending":case"draft":return"warning";case"stuck":case"blocked":case"cancelled":case"overdue":case"inactive":return"destructive";default:return"default"}})(e),children:e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")})}e.s(["StatusBadge",()=>t])},73297,e=>{"use strict";let s={video_production:{value:"video_production",label:"Video Production",description:"Full-service video production from concept to final delivery",icon:"ðŸŽ¬",color:"from-purple-500 to-pink-500",bgColor:"bg-purple-100 dark:bg-purple-900/20",textColor:"text-purple-700 dark:text-purple-300",borderColor:"border-purple-300 dark:border-purple-700"},social_media:{value:"social_media",label:"Social Media",description:"Social media management, content creation, and strategy",icon:"ðŸ“±",color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-100 dark:bg-blue-900/20",textColor:"text-blue-700 dark:text-blue-300",borderColor:"border-blue-300 dark:border-blue-700"},design_branding:{value:"design_branding",label:"Design & Branding",description:"Brand identity, graphic design, and creative services",icon:"ðŸŽ¨",color:"from-orange-500 to-red-500",bgColor:"bg-orange-100 dark:bg-orange-900/20",textColor:"text-orange-700 dark:text-orange-300",borderColor:"border-orange-300 dark:border-orange-700"}},a=Object.values(s);e.s(["SERVICE_TYPES",0,s,"SERVICE_TYPE_OPTIONS",0,a])},95468,e=>{"use strict";let s=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>s],95468)},84762,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(47163);let l=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...a}));l.displayName="Textarea",e.s(["Textarea",()=>l])},86536,e=>{"use strict";let s=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536)},10708,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(48425),l=a.forwardRef((e,a)=>(0,s.jsx)(t.Primitive.label,{...e,ref:a,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var r=e.i(25913),i=e.i(47163);let n=(0,r.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)(l,{ref:t,className:(0,i.cn)(n(),e),...a}));c.displayName=l.displayName,e.s(["Label",()=>c],10708)},31278,e=>{"use strict";let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},94179,e=>{"use strict";var s=e.i(43476),a=e.i(25913),t=e.i(47163);let l=(0,a.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600"}},defaultVariants:{variant:"default"}});function r({className:e,variant:a,...r}){return(0,s.jsx)("div",{className:(0,t.cn)(l({variant:a}),e),...r})}e.s(["Badge",()=>r])},7233,e=>{"use strict";let s=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},30374,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(26999),l=e.i(37727),r=e.i(47163);let i=t.Root,n=t.Trigger,c=t.Portal;t.Close;let d=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)(t.Overlay,{ref:l,className:(0,r.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));d.displayName=t.Overlay.displayName;let o=a.forwardRef(({className:e,children:a,...i},n)=>(0,s.jsxs)(c,{children:[(0,s.jsx)(d,{}),(0,s.jsxs)(t.Content,{ref:n,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...i,children:[a,(0,s.jsxs)(t.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(l.X,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));o.displayName=t.Content.displayName;let m=({className:e,...a})=>(0,s.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});m.displayName="DialogHeader";let x=({className:e,...a})=>(0,s.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});x.displayName="DialogFooter";let h=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)(t.Title,{ref:l,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));h.displayName=t.Title.displayName;let u=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)(t.Description,{ref:l,className:(0,r.cn)("text-sm text-muted-foreground",e),...a}));u.displayName=t.Description.displayName,e.s(["Dialog",()=>i,"DialogContent",()=>o,"DialogDescription",()=>u,"DialogFooter",()=>x,"DialogHeader",()=>m,"DialogTitle",()=>h,"DialogTrigger",()=>n])},7486,e=>{"use strict";let s=(0,e.i(75254).default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);e.s(["Building2",()=>s],7486)},63488,e=>{"use strict";let s=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>s],63488)},47627,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(47163);let l=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:l,className:(0,t.cn)("w-full caption-bottom text-sm",e),...a})}));l.displayName="Table";let r=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("thead",{ref:l,className:(0,t.cn)("[&_tr]:border-b",e),...a}));r.displayName="TableHeader";let i=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("tbody",{ref:l,className:(0,t.cn)("[&_tr:last-child]:border-0",e),...a}));i.displayName="TableBody",a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("tfoot",{ref:l,className:(0,t.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let n=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("tr",{ref:l,className:(0,t.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));n.displayName="TableRow";let c=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("th",{ref:l,className:(0,t.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));c.displayName="TableHead";let d=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("td",{ref:l,className:(0,t.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));d.displayName="TableCell",a.forwardRef(({className:e,...a},l)=>(0,s.jsx)("caption",{ref:l,className:(0,t.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption",e.s(["Table",()=>l,"TableBody",()=>i,"TableCell",()=>d,"TableHead",()=>c,"TableHeader",()=>r,"TableRow",()=>n])},13680,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(70065),l=e.i(67881),r=e.i(23750),i=e.i(10708),n=e.i(84762),c=e.i(62870),d=e.i(30374),o=e.i(47627),m=e.i(78892),x=e.i(63270),h=e.i(7233),u=e.i(55436),p=e.i(63488),g=e.i(75254);let j=(0,g.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),f=(0,g.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var b=e.i(7486),v=e.i(31278);let N=(0,g.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var y=e.i(95468),C=e.i(86536),w=e.i(27612),T=e.i(20755),S=e.i(73297),k=e.i(95187),D=(0,k.createServerReference)("40a8276182358e0473daf518fe2722245d125a62c6",k.callServer,void 0,k.findSourceMapURL,"createClientAccount"),E=(0,k.createServerReference)("4093ee1a78e1b6192e9a5026676301b1f60fb07d0c",k.callServer,void 0,k.findSourceMapURL,"deleteClient"),_=e.i(94179),L=e.i(76686);function I(){let[e,g]=(0,a.useState)([]),[k,I]=(0,a.useState)(!0),[R,B]=(0,a.useState)(""),[P,F]=(0,a.useState)("all"),[A,H]=(0,a.useState)(null),[M,z]=(0,a.useState)(!1),[O,V]=(0,a.useState)(!1),[q,Y]=(0,a.useState)(!1),[$,U]=(0,a.useState)(!1),[K,G]=(0,a.useState)({email:"",password:""}),[J,W]=(0,a.useState)(null),[X,Q]=(0,a.useState)(!1),[Z,ee]=(0,a.useState)(null),[es,ea]=(0,a.useState)({company_name:"",contact_person:"",email:"",phone:"",address:""});async function et(){let e=(0,T.createClient)();I(!0);try{console.log("Fetching clients..."),L.debug.log("CLIENTS","Fetching clients...");let{data:s,error:a}=await e.from("clients").select("*").order("created_at",{ascending:!1});if(a)throw console.error("Error fetching clients:",a),L.debug.error("CLIENTS","Fetch error",{message:a.message,code:a.code}),a;console.log("Clients fetched:",s?.length),L.debug.success("CLIENTS","Clients fetched",{count:s?.length});let{data:t,error:l}=await e.from("projects").select("*");l&&console.error("Error fetching projects:",l);let{data:r,error:i}=await e.from("invoices").select("*").eq("status","paid");i&&console.error("Error fetching invoices:",i);let n=(s||[]).map(e=>{let s=t?.filter(s=>s.client_id===e.id)||[],a=r?.filter(s=>s.client_id===e.id)||[],l=[...new Set(s.map(e=>e.service_type))],i={};return s.forEach(e=>{let s=a.filter(s=>s.project_id===e.id).reduce((e,s)=>e+(s.total||0),0),t=e.service_type;i[t]=(i[t]||0)+s}),{...e,projects:s,invoices:a,services:l,revenue_by_service:i}});console.log("Enhanced clients:",n.length),g(n)}catch(e){console.error("Error fetching clients:",e),alert("Failed to load clients. Please check the console for details.")}finally{I(!1)}}async function el(e){if(e.preventDefault(),!q){Y(!0);try{let e;L.debug.log("CLIENTS","Adding client",es);try{e=await D(es)}catch(e){throw L.debug.error("CLIENTS","Server action call failed",{error:e?.message}),Error(`Server action failed: ${e?.message||String(e)}`)}if(L.debug.log("CLIENTS","Add client result",e),!e.success)throw L.debug.error("CLIENTS","Failed to add client",e.error),Error(e.error);L.debug.success("CLIENTS","Client created successfully",{email:e.credentials?.email}),G({email:e.credentials.email,password:e.credentials.password}),V(!1),ea({company_name:"",contact_person:"",email:"",phone:"",address:""}),L.debug.log("CLIENTS","Refreshing client list"),await et(),L.debug.log("CLIENTS","Showing credentials modal"),U(!0)}catch(e){console.error("Error adding client:",e),L.debug.error("CLIENTS","Submit error",{error:e?.message,details:String(e)}),alert(e?.message||e?.toString()||"Failed to add client")}finally{Y(!1)}}}function er(e,s){navigator.clipboard.writeText(e),W(s),setTimeout(()=>W(null),2e3)}function ei(e){return e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}(0,a.useEffect)(()=>{et()},[]);let en=e.filter(e=>{let s=e.company_name.toLowerCase().includes(R.toLowerCase())||e.contact_person.toLowerCase().includes(R.toLowerCase())||e.email.toLowerCase().includes(R.toLowerCase()),a="all"===P||e.services?.includes(P);return s&&a});function ec(e){H(e),z(!0)}async function ed(e){Q(!0);try{L.debug.log("CLIENTS","Deleting client",{clientId:e});let s=await E(e);if(!s.success){L.debug.error("CLIENTS","Failed to delete client",s.error),alert(s.error||"Failed to delete client");return}L.debug.success("CLIENTS","Client deleted successfully"),ee(null),z(!1),H(null),await et(),alert("Client deleted successfully")}catch(e){console.error("Error deleting client:",e),L.debug.error("CLIENTS","Delete error",{error:e?.message}),alert(e?.message||"Failed to delete client")}finally{Q(!1)}}return(0,s.jsxs)("div",{className:"flex flex-col gap-4 md:gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Clients"}),(0,s.jsx)("p",{className:"text-sm md:text-base text-muted-foreground",children:"Manage your client relationships"})]}),(0,s.jsxs)(d.Dialog,{open:O,onOpenChange:V,children:[(0,s.jsx)(d.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(l.Button,{className:"w-full md:w-auto",children:[(0,s.jsx)(h.Plus,{className:"mr-2 h-4 w-4"}),"Add Client"]})}),(0,s.jsx)(d.DialogContent,{className:"max-w-md md:max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("form",{onSubmit:el,children:[(0,s.jsxs)(d.DialogHeader,{children:[(0,s.jsx)(d.DialogTitle,{children:"Add New Client"}),(0,s.jsx)(d.DialogDescription,{children:"Enter the client details below to add them to your system."})]}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i.Label,{htmlFor:"company",children:"Company Name *"}),(0,s.jsx)(r.Input,{id:"company",placeholder:"Acme Corporation",required:!0,value:es.company_name,onChange:e=>ea({...es,company_name:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i.Label,{htmlFor:"contact",children:"Contact Person *"}),(0,s.jsx)(r.Input,{id:"contact",placeholder:"John Doe",required:!0,value:es.contact_person,onChange:e=>ea({...es,contact_person:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i.Label,{htmlFor:"email",children:"Email *"}),(0,s.jsx)(r.Input,{id:"email",type:"email",placeholder:"john@acme.com",required:!0,value:es.email,onChange:e=>ea({...es,email:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i.Label,{htmlFor:"phone",children:"Phone"}),(0,s.jsx)(r.Input,{id:"phone",placeholder:"+1 (555) 123-4567",value:es.phone,onChange:e=>ea({...es,phone:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i.Label,{htmlFor:"address",children:"Address"}),(0,s.jsx)(n.Textarea,{id:"address",placeholder:"123 Main St, City, State",value:es.address,onChange:e=>ea({...es,address:e.target.value})})]})]}),(0,s.jsxs)(d.DialogFooter,{children:[(0,s.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>V(!1),disabled:q,children:"Cancel"}),(0,s.jsxs)(l.Button,{type:"submit",disabled:q,children:[q&&(0,s.jsx)(v.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),q?"Adding...":"Add Client"]})]})]})})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(u.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(r.Input,{placeholder:"Search clients...",className:"pl-8",value:R,onChange:e=>B(e.target.value)})]}),(0,s.jsxs)(c.Select,{value:P,onValueChange:F,children:[(0,s.jsx)(c.SelectTrigger,{className:"w-full md:w-[200px]",children:(0,s.jsx)(c.SelectValue,{placeholder:"Filter by service"})}),(0,s.jsxs)(c.SelectContent,{children:[(0,s.jsx)(c.SelectItem,{value:"all",children:"All Services"}),Object.values(S.SERVICE_TYPES).map(e=>(0,s.jsx)(c.SelectItem,{value:e.value,children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:e.icon}),(0,s.jsx)("span",{children:e.label})]})},e.value))]})]})]}),k?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(v.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):0===e.length?(0,s.jsx)(t.Card,{children:(0,s.jsxs)(t.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)(b.Building2,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No clients yet"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Get started by adding your first client"}),(0,s.jsxs)(l.Button,{onClick:()=>V(!0),children:[(0,s.jsx)(h.Plus,{className:"mr-2 h-4 w-4"}),"Add First Client"]})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid gap-4 md:hidden",children:en.map(e=>(0,s.jsxs)(t.Card,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>ec(e),children:[(0,s.jsx)(t.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(x.Avatar,{children:(0,s.jsx)(x.AvatarFallback,{children:ei(e.company_name)})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.CardTitle,{className:"text-base",children:e.company_name}),(0,s.jsx)(t.CardDescription,{className:"text-sm",children:e.contact_person})]})]}),(0,s.jsx)(m.StatusBadge,{status:e.status})]})}),(0,s.jsxs)(t.CardContent,{className:"space-y-3 text-sm",children:[e.services&&e.services.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.services.map(e=>{let a=S.SERVICE_TYPES[e];return(0,s.jsxs)(_.Badge,{className:`${a.bgColor} ${a.textColor}`,children:[(0,s.jsx)("span",{className:"mr-1",children:a.icon}),a.label]},e)})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,s.jsx)(p.Mail,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"truncate",children:e.email})]}),e.phone&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,s.jsx)(j,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:e.phone})]}),(0,s.jsxs)("div",{className:"flex justify-between pt-2 border-t",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Projects"}),(0,s.jsx)("p",{className:"font-medium",children:e.projects?.length||0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Revenue"}),(0,s.jsxs)("p",{className:"font-medium",children:["â‚¹",(e.invoices?.reduce((e,s)=>e+(s.total||0),0)||0).toLocaleString()]})]})]})]})]},e.id))}),(0,s.jsxs)(t.Card,{className:"hidden md:block",children:[(0,s.jsxs)(t.CardHeader,{children:[(0,s.jsx)(t.CardTitle,{children:"All Clients"}),(0,s.jsx)(t.CardDescription,{children:"A list of all your clients including their contact information and project stats."})]}),(0,s.jsx)(t.CardContent,{children:(0,s.jsxs)(o.Table,{children:[(0,s.jsx)(o.TableHeader,{children:(0,s.jsxs)(o.TableRow,{children:[(0,s.jsx)(o.TableHead,{children:"Company"}),(0,s.jsx)(o.TableHead,{children:"Contact"}),(0,s.jsx)(o.TableHead,{children:"Services"}),(0,s.jsx)(o.TableHead,{className:"hidden lg:table-cell",children:"Email"}),(0,s.jsx)(o.TableHead,{children:"Projects"}),(0,s.jsx)(o.TableHead,{children:"Revenue"}),(0,s.jsx)(o.TableHead,{children:"Status"}),(0,s.jsx)(o.TableHead,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(o.TableBody,{children:en.map(e=>(0,s.jsxs)(o.TableRow,{className:"cursor-pointer",onClick:()=>ec(e),children:[(0,s.jsx)(o.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(x.Avatar,{children:(0,s.jsx)(x.AvatarFallback,{children:ei(e.company_name)})}),(0,s.jsx)("div",{className:"font-medium",children:e.company_name})]})}),(0,s.jsx)(o.TableCell,{children:e.contact_person}),(0,s.jsx)(o.TableCell,{children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.services&&e.services.length>0?e.services.slice(0,2).map(e=>{let a=S.SERVICE_TYPES[e];return(0,s.jsx)(_.Badge,{variant:"outline",className:"text-xs",children:(0,s.jsx)("span",{className:"mr-1",children:a.icon})},e)}):(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"-"}),e.services&&e.services.length>2&&(0,s.jsxs)(_.Badge,{variant:"outline",className:"text-xs",children:["+",e.services.length-2]})]})}),(0,s.jsx)(o.TableCell,{className:"hidden lg:table-cell",children:e.email}),(0,s.jsx)(o.TableCell,{children:e.projects?.length||0}),(0,s.jsxs)(o.TableCell,{children:["â‚¹",(e.invoices?.reduce((e,s)=>e+(s.total||0),0)||0).toLocaleString()]}),(0,s.jsx)(o.TableCell,{children:(0,s.jsx)(m.StatusBadge,{status:e.status})}),(0,s.jsx)(o.TableCell,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,s.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),ec(e)},children:(0,s.jsx)(C.Eye,{className:"h-4 w-4"})}),(0,s.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),ee({clientId:e.id,clientName:e.company_name})},children:(0,s.jsx)(w.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},e.id))})]})})]})]}),(0,s.jsx)(d.Dialog,{open:M,onOpenChange:z,children:(0,s.jsx)(d.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:A&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.DialogHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(x.Avatar,{className:"h-12 w-12",children:(0,s.jsx)(x.AvatarFallback,{children:ei(A.company_name)})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.DialogTitle,{className:"text-2xl",children:A.company_name}),(0,s.jsx)(d.DialogDescription,{children:A.contact_person})]})]}),(0,s.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>ee({clientId:A.id,clientName:A.company_name}),className:"text-destructive hover:text-destructive",children:(0,s.jsx)(w.Trash2,{className:"h-4 w-4"})})]})}),(0,s.jsxs)("div",{className:"space-y-6 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-3",children:"Contact Information"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:A.email})]}),A.phone&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(j,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:A.phone})]}),A.address&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:A.address})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-3",children:"Overview"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Projects"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:A.projects?.length||0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:["â‚¹",(A.invoices?.reduce((e,s)=>e+(s.total||0),0)||0).toLocaleString()]})]})]})]})]}),A.services&&A.services.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-3",children:"Services Engaged"}),(0,s.jsx)("div",{className:"grid gap-3 md:grid-cols-3",children:A.services.map(e=>{let a=S.SERVICE_TYPES[e],l=A.revenue_by_service?.[e]||0,r=A.projects?.filter(s=>s.service_type===e).length||0;return(0,s.jsx)(t.Card,{className:`border-2 ${a.borderColor}`,children:(0,s.jsxs)(t.CardContent,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:a.icon}),(0,s.jsx)("h4",{className:`font-semibold ${a.textColor}`,children:a.label})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Projects"}),(0,s.jsx)("span",{className:"font-semibold",children:r})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Revenue"}),(0,s.jsxs)("span",{className:"font-semibold",children:["$",l.toLocaleString()]})]})]})]})},e)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Projects"}),(0,s.jsxs)(_.Badge,{variant:"outline",children:[A.projects?.length||0," total"]})]}),A.projects&&A.projects.length>0?(0,s.jsx)("div",{className:"space-y-2",children:A.projects.map(e=>{let a=S.SERVICE_TYPES[e.service_type];return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-xl",children:a.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:a.label})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.budget&&(0,s.jsxs)("span",{className:"text-sm font-medium",children:["$",e.budget.toLocaleString()]}),(0,s.jsx)(m.StatusBadge,{status:e.status})]})]},e.id)})}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No projects yet"})]})]})]})})}),(0,s.jsx)(d.Dialog,{open:$,onOpenChange:U,children:(0,s.jsxs)(d.DialogContent,{className:"max-w-md",children:[(0,s.jsxs)(d.DialogHeader,{children:[(0,s.jsxs)(d.DialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(y.CheckCircle2,{className:"h-5 w-5 text-green-500"}),"Client Account Created"]}),(0,s.jsx)(d.DialogDescription,{children:"Share these login credentials with the client. They won't be shown again."})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"Email (Login ID)"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.Input,{value:K.email,readOnly:!0,className:"font-mono text-sm"}),(0,s.jsx)(l.Button,{type:"button",size:"icon",variant:"outline",onClick:()=>er(K.email,"email"),children:"email"===J?(0,s.jsx)(y.CheckCircle2,{className:"h-4 w-4 text-green-500"}):(0,s.jsx)(N,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"Temporary Password"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.Input,{value:K.password,readOnly:!0,className:"font-mono text-sm"}),(0,s.jsx)(l.Button,{type:"button",size:"icon",variant:"outline",onClick:()=>er(K.password,"password"),children:"password"===J?(0,s.jsx)(y.CheckCircle2,{className:"h-4 w-4 text-green-500"}):(0,s.jsx)(N,{className:"h-4 w-4"})})]})]}),(0,s.jsx)("div",{className:"bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[(0,s.jsx)("strong",{children:"Important:"})," Please save these credentials and share them with the client. The client should change their password after first login."]})})]}),(0,s.jsx)(d.DialogFooter,{children:(0,s.jsx)(l.Button,{onClick:()=>U(!1),children:"Done"})})]})}),(0,s.jsx)(d.Dialog,{open:!!Z,onOpenChange:e=>!e&&ee(null),children:(0,s.jsxs)(d.DialogContent,{className:"max-w-md",children:[(0,s.jsxs)(d.DialogHeader,{children:[(0,s.jsx)(d.DialogTitle,{children:"Delete Client"}),(0,s.jsxs)(d.DialogDescription,{children:["Are you sure you want to delete ",(0,s.jsx)("strong",{children:Z?.clientName}),"? This action cannot be undone."]})]}),(0,s.jsx)("div",{className:"bg-red-50 dark:bg-red-950/50 border border-red-200 dark:border-red-800 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200",children:[(0,s.jsx)("strong",{children:"Warning:"})," This will delete the client account, all associated projects, invoices, and files."]})}),(0,s.jsxs)(d.DialogFooter,{children:[(0,s.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>ee(null),disabled:X,children:"Cancel"}),(0,s.jsxs)(l.Button,{type:"button",variant:"destructive",onClick:()=>Z&&ed(Z.clientId),disabled:X,children:[X&&(0,s.jsx)(v.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),X?"Deleting...":"Delete Client"]})]})]})})]})}e.s(["default",()=>I],13680)}]);