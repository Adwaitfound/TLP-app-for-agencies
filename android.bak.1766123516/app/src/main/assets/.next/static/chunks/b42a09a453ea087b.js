(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let a=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},10708,e=>{"use strict";var a=e.i(43476),r=e.i(71645),s=e.i(48425),t=r.forwardRef((e,r)=>(0,a.jsx)(s.Primitive.label,{...e,ref:r,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));t.displayName="Label";var i=e.i(25913),l=e.i(47163);let n=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...r},s)=>(0,a.jsx)(t,{ref:s,className:(0,l.cn)(n(),e),...r}));o.displayName=t.displayName,e.s(["Label",()=>o],10708)},95468,e=>{"use strict";let a=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>a],95468)},27341,e=>{"use strict";var a=e.i(43476),r=e.i(71645),s=e.i(81140),t=e.i(42727),i=e.i(96626);e.i(74080);var l=e.i(20783),n=Symbol("radix.slottable");function o(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===n}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{var t,i;let n,d,c,u=(i=t=`Primitive.${s}`,(n=r.forwardRef((e,a)=>{let{children:s,...t}=e;if(r.isValidElement(s)){var i;let e,n,o=(i=s,(n=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(n=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),d=function(e,a){let r={...a};for(let s in a){let t=e[s],i=a[s];/^on[A-Z]/.test(s)?t&&i?r[s]=(...e)=>{let a=i(...e);return t(...e),a}:t&&(r[s]=t):"style"===s?r[s]={...t,...i}:"className"===s&&(r[s]=[t,i].filter(Boolean).join(" "))}return{...e,...r}}(t,s.props);return s.type!==r.Fragment&&(d.ref=a?(0,l.composeRefs)(a,o):o),r.cloneElement(s,d)}return r.Children.count(s)>1?r.Children.only(null):null})).displayName=`${i}.SlotClone`,d=n,(c=r.forwardRef((e,s)=>{let{children:t,...i}=e,l=r.Children.toArray(t),n=l.find(o);if(n){let e=n.props.children,t=l.map(a=>a!==n?a:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,a.jsx)(d,{...i,ref:s,children:r.isValidElement(e)?r.cloneElement(e,void 0,t):null})}return(0,a.jsx)(d,{...i,ref:s,children:t})})).displayName=`${t}.Slot`,c),m=r.forwardRef((e,r)=>{let{asChild:t,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(t?u:s,{...i,ref:r})});return m.displayName=`Primitive.${s}`,{...e,[s]:m}},{}),c=e.i(86318),u=e.i(69340),m=e.i(10772),f="Tabs",[p,x]=function(e,s=[]){let t=[],i=()=>{let a=t.map(e=>r.createContext(e));return function(s){let t=s?.[e]||a;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:t}}),[s,t])}};return i.scopeName=e,[function(s,i){let l=r.createContext(i),n=t.length;t=[...t,i];let o=s=>{let{scope:t,children:i,...o}=s,d=t?.[e]?.[n]||l,c=r.useMemo(()=>o,Object.values(o));return(0,a.jsx)(d.Provider,{value:c,children:i})};return o.displayName=s+"Provider",[o,function(a,t){let o=t?.[e]?.[n]||l,d=r.useContext(o);if(d)return d;if(void 0!==i)return i;throw Error(`\`${a}\` must be used within \`${s}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let t=s.reduce((a,{useScope:r,scopeName:s})=>{let t=r(e)[`__scope${s}`];return{...a,...t}},{});return r.useMemo(()=>({[`__scope${a.scopeName}`]:t}),[t])}};return s.scopeName=a.scopeName,s}(i,...s)]}(f,[t.createRovingFocusGroupScope]),h=(0,t.createRovingFocusGroupScope)(),[v,g]=p(f),j=r.forwardRef((e,r)=>{let{__scopeTabs:s,value:t,onValueChange:i,defaultValue:l,orientation:n="horizontal",dir:o,activationMode:p="automatic",...x}=e,h=(0,c.useDirection)(o),[g,j]=(0,u.useControllableState)({prop:t,onChange:i,defaultProp:l??"",caller:f});return(0,a.jsx)(v,{scope:s,baseId:(0,m.useId)(),value:g,onValueChange:j,orientation:n,dir:h,activationMode:p,children:(0,a.jsx)(d.div,{dir:h,"data-orientation":n,...x,ref:r})})});j.displayName=f;var y="TabsList",b=r.forwardRef((e,r)=>{let{__scopeTabs:s,loop:i=!0,...l}=e,n=g(y,s),o=h(s);return(0,a.jsx)(t.Root,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:i,children:(0,a.jsx)(d.div,{role:"tablist","aria-orientation":n.orientation,...l,ref:r})})});b.displayName=y;var N="TabsTrigger",w=r.forwardRef((e,r)=>{let{__scopeTabs:i,value:l,disabled:n=!1,...o}=e,c=g(N,i),u=h(i),m=_(c.baseId,l),f=R(c.baseId,l),p=l===c.value;return(0,a.jsx)(t.Item,{asChild:!0,...u,focusable:!n,active:p,children:(0,a.jsx)(d.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:m,...o,ref:r,onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(l)}),onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(l)}),onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;p||n||!e||c.onValueChange(l)})})})});w.displayName=N;var C="TabsContent",T=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:l,forceMount:n,children:o,...c}=e,u=g(C,t),m=_(u.baseId,l),f=R(u.baseId,l),p=l===u.value,x=r.useRef(p);return r.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(i.Presence,{present:n||p,children:({present:r})=>(0,a.jsx)(d.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!r,id:f,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:x.current?"0s":void 0},children:r&&o})})});function _(e,a){return`${e}-trigger-${a}`}function R(e,a){return`${e}-content-${a}`}T.displayName=C;var S=e.i(47163);let P=r.forwardRef(({className:e,...r},s)=>(0,a.jsx)(b,{ref:s,className:(0,S.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));P.displayName=b.displayName;let k=r.forwardRef(({className:e,...r},s)=>(0,a.jsx)(w,{ref:s,className:(0,S.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));k.displayName=w.displayName;let E=r.forwardRef(({className:e,...r},s)=>(0,a.jsx)(T,{ref:s,className:(0,S.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));E.displayName=T.displayName,e.s(["Tabs",()=>j,"TabsContent",()=>E,"TabsList",()=>P,"TabsTrigger",()=>k],27341)},69035,70756,e=>{"use strict";var a=e.i(43476),r=e.i(71645),s=e.i(48425),t="horizontal",i=["horizontal","vertical"],l=r.forwardRef((e,r)=>{var l;let{decorative:n,orientation:o=t,...d}=e,c=(l=o,i.includes(l))?o:t;return(0,a.jsx)(s.Primitive.div,{"data-orientation":c,...n?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:r})});l.displayName="Separator";var n=e.i(47163);let o=r.forwardRef(({className:e,orientation:r="horizontal",decorative:s=!0,...t},i)=>(0,a.jsx)(l,{ref:i,decorative:s,orientation:r,className:(0,n.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",e),...t}));o.displayName=l.displayName,e.s(["Separator",()=>o],69035);let d=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>d],70756)},93049,e=>{"use strict";var a=e.i(43476),r=e.i(71645),s=e.i(70065),t=e.i(67881),i=e.i(23750),l=e.i(10708),n=e.i(69035),o=e.i(27341),d=e.i(63270),c=e.i(84614),u=e.i(45423),m=e.i(70756),f=e.i(31278),p=e.i(95468),x=e.i(61668),h=e.i(20755),v=e.i(76686);function g(){let{user:e,loading:g,setUser:j}=(0,x.useAuth)(),[y,b]=(0,r.useState)(!1),[N,w]=(0,r.useState)(""),[C,T]=(0,r.useState)({current:"",new:"",confirm:""}),[_,R]=(0,r.useState)({full_name:"",email:"",avatar_url:""});(0,r.useEffect)(()=>{e&&(v.debug.log("SETTINGS","Loading user data",{userId:e.id}),R({full_name:e.full_name||"",email:e.email||"",avatar_url:e.avatar_url||""}))},[e]);let S=async()=>{if(e){b(!0),w("");try{let a=(0,h.createClient)();v.debug.log("SETTINGS","Saving profile",{userId:e.id,data:_});let{data:r,error:s}=await a.from("users").update({full_name:_.full_name,avatar_url:_.avatar_url}).eq("id",e.id).select().single();if(s)throw v.debug.error("SETTINGS","Error saving profile",s),s;v.debug.log("SETTINGS","Profile saved successfully",r),r&&j({...e,full_name:r.full_name,avatar_url:r.avatar_url}),w("Profile updated successfully!"),setTimeout(()=>w(""),3e3)}catch(e){console.error("Error saving profile:",e),w(`Error: ${e.message}`),setTimeout(()=>w(""),5e3)}finally{b(!1)}}},P=async()=>{if(!C.new||!C.confirm){w("Please fill in all password fields"),setTimeout(()=>w(""),3e3);return}if(C.new!==C.confirm){w("New passwords do not match"),setTimeout(()=>w(""),3e3);return}b(!0),w("");try{let e=(0,h.createClient)(),{error:a}=await e.auth.updateUser({password:C.new});if(a)throw a;w("Password updated successfully!"),T({current:"",new:"",confirm:""}),setTimeout(()=>w(""),3e3)}catch(e){console.error("Error changing password:",e),w(`Error: ${e.message}`),setTimeout(()=>w(""),5e3)}finally{b(!1)}};return g||!e?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)(f.Loader2,{className:"h-8 w-8 animate-spin"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[N&&(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[(0,a.jsx)(p.CheckCircle2,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),(0,a.jsx)("span",{className:"text-sm text-green-700 dark:text-green-300",children:N})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Settings"}),(0,a.jsx)("p",{className:"text-sm md:text-base text-muted-foreground",children:"Manage your account settings and preferences"})]}),(0,a.jsxs)(o.Tabs,{defaultValue:"profile",className:"space-y-4",children:[(0,a.jsxs)(o.TabsList,{className:"grid w-full grid-cols-3",children:[(0,a.jsxs)(o.TabsTrigger,{value:"profile",className:"text-xs md:text-sm",children:[(0,a.jsx)(c.User,{className:"h-4 w-4 md:mr-2"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"Profile"})]}),(0,a.jsxs)(o.TabsTrigger,{value:"notifications",className:"text-xs md:text-sm",children:[(0,a.jsx)(u.Bell,{className:"h-4 w-4 md:mr-2"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"Notifications"})]}),(0,a.jsxs)(o.TabsTrigger,{value:"security",className:"text-xs md:text-sm",children:[(0,a.jsx)(m.Lock,{className:"h-4 w-4 md:mr-2"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"Security"})]})]}),(0,a.jsx)(o.TabsContent,{value:"profile",className:"space-y-4",children:(0,a.jsxs)(s.Card,{children:[(0,a.jsxs)(s.CardHeader,{children:[(0,a.jsx)(s.CardTitle,{children:"Profile Information"}),(0,a.jsx)(s.CardDescription,{children:"Update your personal information and profile picture"})]}),(0,a.jsxs)(s.CardContent,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[(0,a.jsxs)(d.Avatar,{className:"h-20 w-20",children:[(0,a.jsx)(d.AvatarImage,{src:_.avatar_url}),(0,a.jsx)(d.AvatarFallback,{className:"text-2xl",children:(_.full_name||_.email||"U").split(/\s+/).map(e=>e.charAt(0)).join("").slice(0,2).toUpperCase()})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Profile Picture"}),(0,a.jsx)("div",{className:"flex flex-col sm:flex-row gap-2",children:(0,a.jsx)(i.Input,{placeholder:"Avatar URL",value:_.avatar_url,onChange:e=>R({..._,avatar_url:e.target.value}),className:"flex-1"})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter an image URL for your profile picture"})]})]}),(0,a.jsx)(n.Separator,{}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"full_name",children:"Full Name"}),(0,a.jsx)(i.Input,{id:"full_name",value:_.full_name,onChange:e=>R({..._,full_name:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"email",children:"Email"}),(0,a.jsx)(i.Input,{id:"email",type:"email",value:_.email,disabled:!0,className:"bg-muted"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{children:"Role"}),(0,a.jsx)("div",{className:"flex h-10 w-full rounded-md border border-input bg-muted px-3 py-2 text-sm",children:(0,a.jsx)("span",{className:"capitalize",children:e.role.replace("_"," ")})})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(t.Button,{onClick:S,disabled:y,children:[y&&(0,a.jsx)(f.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})})]})]})}),(0,a.jsx)(o.TabsContent,{value:"notifications",className:"space-y-4",children:(0,a.jsxs)(s.Card,{children:[(0,a.jsxs)(s.CardHeader,{children:[(0,a.jsx)(s.CardTitle,{children:"Notification Preferences"}),(0,a.jsx)(s.CardDescription,{children:"Manage how you receive notifications"})]}),(0,a.jsx)(s.CardContent,{children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Notification settings will be available soon."})})]})}),(0,a.jsx)(o.TabsContent,{value:"security",className:"space-y-4",children:(0,a.jsxs)(s.Card,{children:[(0,a.jsxs)(s.CardHeader,{children:[(0,a.jsx)(s.CardTitle,{children:"Change Password"}),(0,a.jsx)(s.CardDescription,{children:"Update your password to keep your account secure"})]}),(0,a.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"new_password",children:"New Password"}),(0,a.jsx)(i.Input,{id:"new_password",type:"password",value:C.new,onChange:e=>T({...C,new:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"confirm_password",children:"Confirm New Password"}),(0,a.jsx)(i.Input,{id:"confirm_password",type:"password",value:C.confirm,onChange:e=>T({...C,confirm:e.target.value})})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(t.Button,{onClick:P,disabled:y,children:[y&&(0,a.jsx)(f.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]})})]})]})})]})]})}e.s(["default",()=>g])}]);